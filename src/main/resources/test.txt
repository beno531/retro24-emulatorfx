.base $0100               ; Fester Programmstart nach Reset

start:MR0, $00
C01      ; R1

yellow:

MR0, $E8
C02      ; R2
RAR ; R1 (als LO) und R2 (als HI) werden ins AR kopiert.
MR0, $01
SR0 ; Speichert R0 an die in AR angegebene Adresse.


MR0, $F8
C02      ; R2
RAR ; R1 (als LO) und R2 (als HI) werden ins AR kopiert.
MR0, $01
SR0 ; Speichert R0 an die in AR angegebene Adresse.


MAR, $000A ; DRAW
MR0, $01 ; DRAW
SR0 ; DRAW


IRW ; Erhöht den Wert von R1 um 1


X01 ; Vertauscht die Inhalte von R0 und R1.
MAR, yellow_end
JE0, $40 ;  Springt zu der in AR angegebenen Adresse, falls R0 gleich dem nachfolgenden Byte ist.
X01 ; Vertauscht die Inhalte von R0 und R1.

MAR, yellow
JMP


yellow_end:

MR0, $00
C01      ; R1

blue:

MR0, $E8
C02      ; R2
RAR ; R1 (als LO) und R2 (als HI) werden ins AR kopiert.
MR0, $00
SR0 ; Speichert R0 an die in AR angegebene Adresse.


MR0, $F8
C02      ; R2
RAR ; R1 (als LO) und R2 (als HI) werden ins AR kopiert.
MR0, $01
SR0 ; Speichert R0 an die in AR angegebene Adresse.


MAR, $000A ; DRAW
MR0, $01 ; DRAW
SR0 ; DRAW


IRW ; Erhöht den Wert von R1 um 1


X01 ; Vertauscht die Inhalte von R0 und R1.
MAR, blue_end
JE0, $40 ;  Springt zu der in AR angegebenen Adresse, falls R0 gleich dem nachfolgenden Byte ist.
X01 ; Vertauscht die Inhalte von R0 und R1.

MAR, blue
JMP


blue_end:

MR0, $00
C01      ; R1

white:

MR0, $E8
C02      ; R2
RAR ; R1 (als LO) und R2 (als HI) werden ins AR kopiert.
MR0, $01
SR0 ; Speichert R0 an die in AR angegebene Adresse.


MR0, $F8
C02      ; R2
RAR ; R1 (als LO) und R2 (als HI) werden ins AR kopiert.
MR0, $00
SR0 ; Speichert R0 an die in AR angegebene Adresse.


MAR, $000A ; DRAW
MR0, $01 ; DRAW
SR0 ; DRAW


IRW ; Erhöht den Wert von R1 um 1


X01 ; Vertauscht die Inhalte von R0 und R1.
MAR, white_end
JE0, $40 ;  Springt zu der in AR angegebenen Adresse, falls R0 gleich dem nachfolgenden Byte ist.
X01 ; Vertauscht die Inhalte von R0 und R1.

MAR, white
JMP


white_end:

MR0, $00
C01      ; R1

black:

MR0, $E8
C02      ; R2
RAR ; R1 (als LO) und R2 (als HI) werden ins AR kopiert.
MR0, $00
SR0 ; Speichert R0 an die in AR angegebene Adresse.


MR0, $F8
C02      ; R2
RAR ; R1 (als LO) und R2 (als HI) werden ins AR kopiert.
MR0, $00
SR0 ; Speichert R0 an die in AR angegebene Adresse.


MAR, $000A ; DRAW
MR0, $01 ; DRAW
SR0 ; DRAW


IRW ; Erhöht den Wert von R1 um 1


X01 ; Vertauscht die Inhalte von R0 und R1.
MAR, black_end
JE0, $40 ;  Springt zu der in AR angegebenen Adresse, falls R0 gleich dem nachfolgenden Byte ist.
X01 ; Vertauscht die Inhalte von R0 und R1.

MAR, black
JMP

black_end:

MAR, start
JMP